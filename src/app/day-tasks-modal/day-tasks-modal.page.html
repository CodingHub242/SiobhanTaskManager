<ion-header>
  <ion-toolbar>
    <ion-title>{{ selectedDate | date:'EEEE, MMMM d, yyyy' }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="close()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="day-tasks-content">
  <!-- Summary Stats -->
  <div class="day-summary" *ngIf="tasks.length > 0">
    <div class="summary-card">
      <div class="summary-stat">
        <span class="stat-value">{{ tasks.length }}</span>
        <span class="stat-label">Total</span>
      </div>
      <div class="summary-stat">
        <span class="stat-value completed">{{ completedCount }}</span>
        <span class="stat-label">Completed</span>
      </div>
      <div class="summary-stat">
        <span class="stat-value pending">{{ pendingCount }}</span>
        <span class="stat-label">Pending</span>
      </div>
      <div class="summary-stat">
        <span class="stat-value overdue">{{ overdueCount }}</span>
        <span class="stat-label">Overdue</span>
      </div>
    </div>
  </div>

  <!-- No Tasks State -->
  <div *ngIf="tasks.length === 0" class="no-tasks">
    <ion-icon name="calendar-outline"></ion-icon>
    <h3>No Tasks</h3>
    <p>No tasks scheduled for this day</p>
  </div>

  <!-- Tasks List -->
  <div class="tasks-section" *ngIf="tasks.length > 0">
    <div class="section-header">
      <h3>Tasks ({{ tasks.length }})</h3>
    </div>
    
    <ion-list class="tasks-list">
      <div class="task-item" *ngFor="let task of tasks" (click)="onTaskClick(task)">
        <ion-item lines="none">
          <ion-checkbox slot="start" [checked]="task.completed" disabled></ion-checkbox>
          <ion-label>
            <div class="task-content">
              <h2 [class.completed-text]="task.completed">{{ task.title }}</h2>
              <p>{{ task.description }}</p>
              <div class="task-badges">
                <span class="badge priority" [class]="task.priority">
                  {{ task.priority | titlecase }}
                </span>
                <span class="badge assignee" *ngIf="getEmployeeName(task.employeeId)">
                  {{ getEmployeeName(task.employeeId) }}
                </span>
              </div>
            </div>
          </ion-label>
          <ion-icon slot="end" name="chevron-forward" class="chevron-icon"></ion-icon>
        </ion-item>
      </div>
    </ion-list>
  </div>
</ion-content>
